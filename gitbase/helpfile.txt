kill $(jobs -p)

MapStruct, which makes it easy to transform between Spring Data entity objects and the API model classes. For further details, see http://mapstruct.org/.

Learning wotks
https://www.geeksforgeeks.org/java-8-features/
https://refactoring.guru/design-patterns
https://spring.io/blog/2016/06/07/notes-on-reactive-programming-part-i-the-reactive-landscape/
https://netflixtechblog.com/reactive-programming-in-the-netflix-api-with-rxjava-7811c3a1496a
https://medium.com/sysco-labs/reactive-programming-in-java-8d1f5c648012
https://www.youtube.com/@CodewithDilip
https://developer.okta.com/blog/2020/04/15/spring-cloud-stream
https://gorillalogic.com/blog/an-introduction-to-spring-cloud-streams
https://www.vinsguru.com/circuit-breaker-pattern/
https://medium.com/israeli-tech-radar/oauth-2-0-and-openid-connect-for-dummies-6fa6e995d6d5


https://365datascience.com/trending/best-degrees-in-ai/

docker run -d -p 3306:3306 --env MYSQL_ROOT_PASSWORD=rootpwd --env MYSQL_DATABASE=review-db --env MYSQL_USER=user --envMYSQL_PASSWORD=pwd --memory 512M --name mysql mysql:8.0.32
docker run -d -p 8080:8080 --env SPRING_PROFILES_ACTIVE=docker --memory 512M --name review microservices/review-service


 
 docker-compose exec mysql mysql -uuser -p review-db -e "select * from reviews"
 docker-compose exec mongodb mongosh product-db --quiet --eval "db.products.find()"
 docker-compose exec mongodb mongosh recommendation-db --quiet --eval "db.recommendations.find()"
 



Kafta
docker-compose exec kafka kafka-topics --bootstrap-server localhost:9092 --list
docker-compose exec kafka kafka-topics --bootstrap-server localhost:9092 --describe --topic products
docker-compose exec kafka kafka-console-consumer --bootstrap-server localhost:9092 --topic products --from-beginning --timeout-ms 1000 --partition 1


create new brannch and push to repository
git branch branch-name
git push â€“u origin <branch name>
added new note




Acquiring access tokens using the authorization code grant flow

https://localhost:8443/oauth2/authorize?response_type=code&client_id=reader&redirect_uri=https://my.redirect.uri&scope=product:read&state=35725

Response : 
https://my.redirect.uri/?code=a6VGPmtdA3UdzeanmV8oiJLYUWRMXqZcM2FlTinBOIFyabi0VOtZoy-uMW6c7MK1FBdjxz5zdf6YV_0J-R9kn_9caf7ENrmhWYWQ3yeuyAUJK7jLcgpTHOcg5mCKsbkJ&state=35725


curl -k https://reader:secret-reader@localhost:8443/oauth2/token \
 -d grant_type=authorization_code \
 -d client_id=writer \
 -d redirect_uri=https://my.redirect.uri \
 -d code=a6VGPmtdA3UdzeanmV8oiJLYUWRMXqZcM2FlTinBOIFyabi0VOtZoy-uMW6c7MK1FBdjxz5zdf6YV_0J-R9kn_9caf7ENrmhWYWQ3yeuyAUJK7jLcgpTHOcg5mCKsbkJ -s | jq .
 
 {
  "access_token": "eyJraWQiOiI4Njc4ODhiOS1lY2ExLTRjNTEtOWQ4OS1lNDRlZTVhMzNiZDAiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJ1IiwiYXVkIjoicmVhZGVyIiwibmJmIjoxNzAzOTA3MDg2LCJzY29wZSI6WyJwcm9kdWN0OnJlYWQiXSwiaXNzIjoiaHR0cDovL2F1dGgtc2VydmVyOjk5OTkiLCJleHAiOjE3MDM5MTA2ODYsImlhdCI6MTcwMzkwNzA4Nn0.HGsfanyzBe_Mwv3R56CFX_QCjDVAvHOrua9vJhL5Sm1Tl7hkWjEod-XA7QnRrXRzNRd5vkvRwoSLYqV6f12F7DdCJNYlIfHTe6RyD9ztT4EgoFjDNkrlyVnooCJXqonv2SwVhtp3wNgg1YVFiJEO3mgbi899_nKFE8bqpjHFpXjmKAPHyISJVUuF8nyEcXLlTVD6XKLR2LXom6GdPOfeUPCW1QXgyAG1_tqDBL1y_7b8C07-M6FPBsBU12X4j3EnoLItGFdC5zPJmX7g3C_2bzbAm-gt4nPXJcNvNnExib9ePwjQHIJpJx2NrIgxQ94fiZDx0mKkae25bdXya91G0g",
  "refresh_token": "2Qgm3pQ7scwCff56b4VA8PEykvAeEhm5JQjp_VmhrMeeBuue1Vlisw5o5rqWvhOPxlmgFzhAlCXpt4N_st4JjU89Ac20IlF8FsXoweFCISBuGydAvpFsl36RUTm9RI8P",
  "scope": "product:read",
  "token_type": "Bearer",
  "expires_in": 3599
}

Get READ WRITE TOKEN

https://localhost:8443/oauth2/authorize?response_type=code&client_id=writer&redirect_uri=https://my.redirect.uri&scope=product:read+product:write&state=72489


https://my.redirect.uri/?code=_r6gV0Db8yHjy4fDY4cv5XXBWbWYh-iazCClcWX3vOGGn5-dVCUwy_g9_jiro6lvgTx4uFhCtz3ouLndIp49hkcg6NLmRH0uiifpEns49KRlngd59r6P_yDHimpJ2Ry9&state=72489


  
  
  
  dmane@DESKTOP-D9OR5G7:~$ curl -k https://writer:secret-writer@localhost:8443/oauth2/token \
  -d grant_type=authorization_code \
  -d client_id=writer \
  -d redirect_uri=https://my.redirect.uri \
  -d code=_r6gV0Db8yHjy4fDY4cv5XXBWbWYh-iazCClcWX3vOGGn5-dVCUwy_g9_jiro6lvgTx4uFhCtz3ouLndIp49hkcg6NLmRH0uiifpEns49KRlngd59r6P_yDHimpJ2Ry9 -s | jq
{
  "access_token": "eyJraWQiOiI4Njc4ODhiOS1lY2ExLTRjNTEtOWQ4OS1lNDRlZTVhMzNiZDAiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJ1IiwiYXVkIjoid3JpdGVyIiwibmJmIjoxNzAzOTA3MjA0LCJzY29wZSI6WyJwcm9kdWN0OndyaXRlIiwicHJvZHVjdDpyZWFkIl0sImlzcyI6Imh0dHA6Ly9hdXRoLXNlcnZlcjo5OTk5IiwiZXhwIjoxNzAzOTEwODA0LCJpYXQiOjE3MDM5MDcyMDR9.w6eQhKU-NhPxpSV_K8RrdMEngD_m0jSaEdi79a0p1-1d-uh665do0h5qxuf6ORYX49jMh2ZX0ch1ijG7KdcNnfm_FMMds66C8VJ5ZYhfaiQL5CRE-whKkH_7kLvHzQXANJT41aEfmDezuvXkArOED5BThhcM4K47gw8_AamTMpbGIQHSNlnrHfnLjvVesZ9V7U4XiDpSJUq2xkNQa91xYAqgpETZyq-A8hRGVbG42O1EIj-7ndsbn0o09BXthrYy4NCiqgDLnJCCLoeht9ek6pV2CX2cwjDtFoBNjUlZYe8NSGWY_UAi0L2Qmdtr9O6j-YFB3chiNVMHo-3tKHt4gQ",
  "refresh_token": "kaYpJiBn1wvfdxMO3ApyvKFFGbstzKwsEkLniH9zgEgPiYKmhgN3RYBS4NEiPzPLgVs7A8J9HSAn-usG7kpazZjGjaiDXwItkNFfyBKscycTDEr19yZ9z3kNCY0zvhZ7",
  "scope": "product:write product:read",
  "token_type": "Bearer",
  "expires_in": 3599
}


$ cat auth0client.txt
export TENANT=dev-ees75xh6ntjfo317.us.auth0.com
export WRITER_CLIENT_ID=4J3Xc1domJUdzzDwtUnj4FlROpXJzuZU
export WRITER_CLIENT_SECRET=uM0tQlg6BkkU2fngThsNdwTklL-TXyrfTmpJo8AFp857YrnN5kdVknGo8pwR_hPs
export READER_CLIENT_ID=vY1ZjF6ZM2grFuiH9LSU8zq1t2tldySj
export READER_CLIENT_SECRET=e8_W0-iA2cwlGgqLBEPjMSvFYURr-Q6PsCSren5S2g6d_Ns6KdQs8o91XCe6D7dW



curl https://dev-ees75xh6ntjfo317.us.auth0.com/.well-known/openid-configuration -s | jq


--- Auth0

Get Access token using Client Credentials ( ID and Secret)


curl -X POST https://$TENANT/oauth/token \
  -d grant_type=client_credentials \
  -d audience=https://localhost:8443/product-composite \
  -d scope=product:read+product:write \
  -d client_id=$WRITER_CLIENT_ID \
  -d client_secret=$WRITER_CLIENT_SECRET
  
  {"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkkzRUdGUWxXODdiUVczZVlwb3pXbyJ9.eyJpc3MiOiJodHRwczovL2Rldi1lZXM3NXhoNm50amZvMzE3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiI0SjNYYzFkb21KVWR6ekR3dFVuajRGbFJPcFhKenVaVUBjbGllbnRzIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODQ0My9wcm9kdWN0LWNvbXBvc2l0ZSIsImlhdCI6MTcwNTI2Nzc2NCwiZXhwIjoxNzA1MzU0MTY0LCJhenAiOiI0SjNYYzFkb21KVWR6ekR3dFVuajRGbFJPcFhKenVaVSIsInNjb3BlIjoicHJvZHVjdDpyZWFkIHByb2R1Y3Q6d3JpdGUiLCJndHkiOiJjbGllbnQtY3JlZGVudGlhbHMifQ.mW9mL7-Naokr0Clg43S7Sma2aAtF77wV826G6Ryw9srj-2CSDvybFog8QWjcCUfxHAWP4kKgGA-qBw9uWNxft606EER4bG9Uo7_OnVYVzKVTQnruzkqKfik91mI9uMQLjvX7BUqqtuYMroWj0SD5ayfdA8Hd1k2fMUeVVTHNKrr09LvKt6_dw_nbUQaN-XxNsbACPrEeWK0_nbbebyJ0W0NmO-EGFSII1qrwmAX9ntEjDONoFgunIb6cyabYdorfEoZczUi3G8w21cKMIRI0PQCouWvrJxQC5Mfq1LIUDGkKUS1tDd6a8qEKFsp7NH6ZN0gn7yJj7Qjk8rLPuAp-PA","scope":"product:read product:write","expires_in":86400,"token_type":"Bearer"}dmane@DESKTOP-D9OR5G7:/mnt/c/DilipStore/springboot3-webflux$
  
  
  
  
  curl -X POST https://$TENANT/oauth/token \
  -d grant_type=client_credentials \
  -d audience=https://localhost:8443/product-composite \
  -d scope=product:read \
  -d client_id=$READER_CLIENT_ID \
  -d client_secret=$READER_CLIENT_SECRET -s | jq -r .access_token



eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkkzRUdGUWxXODdiUVczZVlwb3pXbyJ9.eyJpc3MiOiJodHRwczovL2Rldi1lZXM3NXhoNm50amZvMzE3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJ2WTFaakY2Wk0yZ3JGdWlIOUxTVTh6cTF0MnRsZHlTakBjbGllbnRzIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODQ0My9wcm9kdWN0LWNvbXBvc2l0ZSIsImlhdCI6MTcwNTI3NTE2OCwiZXhwIjoxNzA1MzYxNTY4LCJhenAiOiJ2WTFaakY2Wk0yZ3JGdWlIOUxTVTh6cTF0MnRsZHlTaiIsInNjb3BlIjoicHJvZHVjdDpyZWFkIiwiZ3R5IjoiY2xpZW50LWNyZWRlbnRpYWxzIn0.tvVIe0Ns6qxQcElyEF8yYFkAQCliJjVMocA8kzDWXF6vjkTglUwASWjBSYztkmVjIr09TCXFHbYjfY4j2ysL-zFdyHhC3kObu-RVWqYB9PqVGxwctyYHQkyfZP2-vaDxmhuduTaVxJm6o53FKsadBzu1fAXTBGFEOAAPTw05_-Qrp9jEWhCBTL1HuM0uyzvAvvUSwCGMMMYGXLEXcZ67NEdgX6xR_7h_yhXzDsoPpDFCLhkaZ4LFwcnjz7ZMyIRoUexl3M5rlE1jAyQtNg2t91iW7_5mwU7NpyNnkGJyht5JNpT9C1Mjhx5dH_GhjfAppsIFDAG56BiCeuFDBoR-cQ


Get Access Token using Authenication workflow

For writer id ( Add/ Delete and Product composite)

https://dev-ees75xh6ntjfo317.us.auth0.com/authorize?audience=https://localhost:8443/product-composite&scope=openid email product:read product:write&response_type=code&client_id=4J3Xc1domJUdzzDwtUnj4FlROpXJzuZU&redirect_uri=https://my.redirect.uri&state=845361

Returned Code : Authorisation code
code=JyQbdCg10qY-HT20Reg2JRjN5aaSVaUzYtUXqZ6rfi5jU&state=845361

export WRITER_AUTH_CODE=JyQbdCg10qY-HT20Reg2JRjN5aaSVaUzYtUXqZ6rfi5jU

-- Get Access token using authorization_code


curl -X POST https://$TENANT/oauth/token \
  -d grant_type=authorization_code \
  -d audience=https://localhost:8443/product-composite \
  -d scope=product:read+product:write \
  -d client_id=$WRITER_CLIENT_ID \
  -d client_secret=$WRITER_CLIENT_SECRET \
  -d code=$WRITER_AUTH_CODE \
  -d redirect_uri=https://my.redirect.uri -s | jq .



eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkkzRUdGUWxXODdiUVczZVlwb3pXbyJ9.eyJpc3MiOiJodHRwczovL2Rldi1lZXM3NXhoNm50amZvMzE3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJnb29nbGUtb2F1dGgyfDExNjk1MjIzMDcwNDk3MDE2Njk4NSIsImF1ZCI6WyJodHRwczovL2xvY2FsaG9zdDo4NDQzL3Byb2R1Y3QtY29tcG9zaXRlIiwiaHR0cHM6Ly9kZXYtZWVzNzV4aDZudGpmbzMxNy51cy5hdXRoMC5jb20vdXNlcmluZm8iXSwiaWF0IjoxNzA1Mjc3MzI5LCJleHAiOjE3MDUzNjM3MjksImF6cCI6IjRKM1hjMWRvbUpVZHp6RHd0VW5qNEZsUk9wWEp6dVpVIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZHVjdDpyZWFkIHByb2R1Y3Q6d3JpdGUifQ.b6YKsVofAw0SLULi_-vMI5c53u_vHCauRosE5RKH92H9lTa55ki-ODLaRfDc8d19ACC-QLcw5qUpEa_UK0G840a2_QzfBOZclWlewjbz-oeBA3GxEdtLBpKnKdkpZdZa-BeDNSarhzubipuXi5VjF-jyLR0rP1ahw9xjEp-UcWPxCdt6X4QaIjk4OnzHKvm5qWeaw1OobZMxM5CLX_CZ_t5fdx8xSpTW1rYpF9CFqkDvPXekOE76ODEkXGPm0GNsit1i0JA8PoTxqBWz_HhANX1jUrKsgfWT78ox61-TU4sOtfvVT2LUy0P8gJrLHP14n1Jx5D0m6fajurgQDGIRnA


-- Get access token using Authenication workflow
for READER_CLIENT_ID
export READER_CLIENT_ID=vY1ZjF6ZM2grFuiH9LSU8zq1t2tldySj
export READER_CLIENT_SECRET=e8_W0-iA2cwlGgqLBEPjMSvFYURr-Q6PsCSren5S2g6d_Ns6KdQs8o91XCe6D7dW


https://dev-ees75xh6ntjfo317.us.auth0.com/authorize?audience=https://localhost:8443/product-composite&scope=openid email product:read&response_type=code&client_id=vY1ZjF6ZM2grFuiH9LSU8zq1t2tldySj&redirect_uri=https://my.redirect.uri&state=845361


Returned Code : Authorisation code
code=8gPPsYdpqkFqf86KEmHRv7mW0dKJ2KtC7G0qhI9MHoT_J

export READER_AUTH_CODE=8gPPsYdpqkFqf86KEmHRv7mW0dKJ2KtC7G0qhI9MHoT_J

-- Get Access token using authorization_code


curl -X POST https://$TENANT/oauth/token \
  -d grant_type=authorization_code \
  -d audience=https://localhost:8443/product-composite \
  -d scope=product:read \
  -d client_id=$READER_CLIENT_ID \
  -d client_secret=$READER_CLIENT_SECRET \
  -d code=$READER_AUTH_CODE \
  -d redirect_uri=https://my.redirect.uri -s | jq .
  
  Response
  {
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkkzRUdGUWxXODdiUVczZVlwb3pXbyJ9.eyJpc3MiOiJodHRwczovL2Rldi1lZXM3NXhoNm50amZvMzE3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJnb29nbGUtb2F1dGgyfDExNjk1MjIzMDcwNDk3MDE2Njk4NSIsImF1ZCI6WyJodHRwczovL2xvY2FsaG9zdDo4NDQzL3Byb2R1Y3QtY29tcG9zaXRlIiwiaHR0cHM6Ly9kZXYtZWVzNzV4aDZudGpmbzMxNy51cy5hdXRoMC5jb20vdXNlcmluZm8iXSwiaWF0IjoxNzA1Mjc3OTA5LCJleHAiOjE3MDUzNjQzMDksImF6cCI6InZZMVpqRjZaTTJnckZ1aUg5TFNVOHpxMXQydGxkeVNqIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZHVjdDpyZWFkIn0.L0-o7xkUGdRe1fI7673AHQ9v96NOpfNGuDTZyF8RYB5PSaCvmMlQYayOgq0CTNyN6zQ983fIIx0Xjh9IWo30FZPyNPPACwPIlMXwaqlscqOWjz0rHUrZYgAjSOBW1iFWqHNd35tOFZz4tiK5TIxDkl6Ijz_WHfBihWiRbAp8vHt5zZtS5nyuMl24ZBanq3lA7fRecPbd96vELkjzRRsOnVAXrBXo3xQlZcHen5fFSy-F4Rnwo7Z1-yTAZUkPaXdCXG5HHzuOySSVHtoaEMjjx8jE3yOxQboQga2sG6nh3tOjcM9F1n-tgpyG5vo_wSEwnBPvMTIBzXkKf-PBImj-mQ",
  "id_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRvamF2YWRldmVsb3BAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImlzcyI6Imh0dHBzOi8vZGV2LWVlczc1eGg2bnRqZm8zMTcudXMuYXV0aDAuY29tLyIsImF1ZCI6InZZMVpqRjZaTTJnckZ1aUg5TFNVOHpxMXQydGxkeVNqIiwiaWF0IjoxNzA1Mjc3OTA5LCJleHAiOjE3MDUzMTM5MDksInN1YiI6Imdvb2dsZS1vYXV0aDJ8MTE2OTUyMjMwNzA0OTcwMTY2OTg1Iiwic2lkIjoiRndwRkRUcXJ6eTlmdV9McjF6XzdoejlqVFoyMktKTWcifQ.7LUVrkQ0xtHaez2m-w20p2B31J5bc1i7vZ9PYv0Ddjk",
  "scope": "openid email product:read",
  "expires_in": 86400,
  "token_type": "Bearer"
}



Getting extra information about the user

curl -H "Authorization: Bearer $ACCESS_TOKEN" https://dev-ees75xh6ntjfo317.us.auth0.com/userinfo -s | jq